

<prompt>> <cursor id="cursor">_</cursor></prompt>

<style>
  body {
    font-size: 24pt;
    margin: .7em;
    background: aquamarine;
    direction: rtl;
  }
  prompt {
    display: block;
    color: #ff7bf7;
    position: fixed;
    bottom: 0;
    padding: 0 .7em;
    margin: 0 -.7em;
    width: 100%;
    border-top: 1px solid #ff7bf7;
    line-height: 1.6em;
    background: #ff5eed;
    color: #befbbc;
  }
  cursor {
    height: 100%;
    display: inline-block;
    animation: blink;
    animation: blink 1s step-start .5s infinite;
  }
  @keyframes blink { 50% { opacity: 0; }}
</style>

<script type='text/javascript' src="bubblescript.js"></script>
<script type='text/bubblescript'>
;Ëšmef candy crunch love
; td
  ; arrows

    muf cursor,
      (document.getElementById "cursor")

        muf cursor,
          (send document
            'getElementById
            "cursor")

      muf get-id (fn [a]
        (document.getElementById a))

    muf cursor (get-id "cursor")
    muf xoxo  cursor.parentNode
    muf prompt  cursor.parentNode

;muf print (fn [a]
;  (document.body.insertBefore
;     a prompt))

muf br (fn [meow]
  (document.createElement "br"))

muf println (fn [a]
  (print a (br)))

muf typeChar (fn [c]
  (xoxo.insertBefore
    (document.createTextNode c)
     cursor))

muf clear (fn []
  (export  xoxo 'innerHTML "> ")
  (xoxo.append cursor))


    muf backspace (fn [q]
      (xoxo.removeChild
         cursor.previousSibling))

    ;window.addEventListener 'keypress,
    ;  (jsfn [e] (typeChar e.key))

    muf ðŸ˜‹ (fn [meow];                 muf ðŸ˜‹ (fn []
      (xoxo.insertBefore;                (xoxo.insertBefore
        (document.createElement "br");    (document.createElement "br")
         cursor ));                         cursor ))


     muf muff muf

     muff read,
       (fn []
          (xoxo.innerText.slice 2
             (- xoxo.innerText.length 1)))

     muff ðŸ˜‹ (fn []
       (alert (send (read) 'toString)))

      ;  def ðŸ¤—ðŸ¤— (fn []
       muff ðŸ˜‹ (fn []
         (let [v (read)]
            (println v)
            (print ";=> ")
            (println (evl (parse v)))
            ;(println (parse v))
            (clear)))
         ;(print ";=> ")
         ;(println (evl (parse (read)))))


      muf do list

      muf arrow-left (fn []
        (xoxo.insertBefore cursor
           cursor.previousSibling))

           muf arrow-right (fn []
             (xoxo.insertBefore
                cursor.nextSibling
                cursor))

          window.addEventListener 'keydown,
            (jsfn [e]
              (if (= e.key "Backspace")
                (do (e.preventDefault)
                     (backspace))
              (if (= e.key "ArrowRight")
                (arrow-right)
              (if (= e.key "ArrowLeft")
                (arrow-left)))))
              ;(if (and (> e.keyCode 36)
              ;          (< e.keyCode 41))
              ;   (alert "Arrows"))))

    window.addEventListener 'keypress,
      (jsfn [e]
        (if (= e.key "Enter")
          (ðŸ˜‹)
          (typeChar e.key)))


           window.mg

</script>
